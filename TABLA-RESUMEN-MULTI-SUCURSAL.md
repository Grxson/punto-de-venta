# ğŸ“Š Tabla Resumen: Sistema Multi-Sucursal Completo\n\n## ComparaciÃ³n: Â¿Columna vs Tabla Relacional?\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚       CaracterÃ­stica    â”‚    Columna ID    â”‚  Tabla Relacional    â”‚\nâ”‚                         â”‚  (Â¿Necesaria?)   â”‚  (âœ… Implementada)   â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ Producto en mÃºltiples   â”‚       âŒ         â”‚         âœ…           â”‚\nâ”‚ sucursales              â”‚  Solo 1 sucursal â”‚  Ilimitadas          â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ Precios diferentes      â”‚       âŒ         â”‚         âœ…           â”‚\nâ”‚                         â”‚  Precio Ãºnico    â”‚  Precio por sucursal â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ Orden visual diferente  â”‚       âŒ         â”‚         âœ…           â”‚\nâ”‚                         â”‚  Sin control     â”‚  orden_visualizacion â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ Disponibilidad horaria  â”‚       âŒ         â”‚         âœ…           â”‚\nâ”‚                         â”‚  No soporta      â”‚  horarioDisp. (JSON) â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ Disponibilidad x dÃ­a    â”‚       âŒ         â”‚         âœ…           â”‚\nâ”‚                         â”‚  No soporta      â”‚  diasDisp. (JSON)    â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ Stock mÃ¡ximo por suc.   â”‚       âŒ         â”‚         âœ…           â”‚\nâ”‚                         â”‚  Stock Ãºnico     â”‚  stockMaximo         â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ Notas especÃ­ficas       â”‚       âŒ         â”‚         âœ…           â”‚\nâ”‚                         â”‚  Sin campo       â”‚  Campo notas (500ch) â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ Flexibilidad            â”‚       âŒ         â”‚         âœ…           â”‚\nâ”‚                         â”‚  Nula            â”‚  Muy alta            â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ Mantenimiento           â”‚       âŒ         â”‚         âœ…           â”‚\nâ”‚                         â”‚  Complic. media  â”‚  FÃ¡cil               â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\nCONCLUSIÃ“N: La tabla relacional es MUCHO MEJOR\n```\n\n---\n\n## Estructuras de Datos\n\n### Tabla: `sucursal_productos`\n\n```sql\nCREATE TABLE sucursal_productos (\n    id BIGINT PRIMARY KEY AUTO_INCREMENT,\n    sucursal_id BIGINT NOT NULL,\n    producto_id BIGINT NOT NULL,\n    \n    precio_sucursal DECIMAL(12,2),\n    disponible BOOLEAN DEFAULT true,\n    orden_visualizacion INT,\n    stock_maximo INT,\n    horario_disponibilidad TEXT,      -- JSON: {\"inicio\": \"06:00\", \"fin\": \"12:00\"}\n    dias_disponibilidad TEXT,         -- JSON: {\"dias\": [1,2,3,4,5,6,7]}\n    notas VARCHAR(500),\n    \n    UNIQUE KEY unique_sucursal_producto (sucursal_id, producto_id),\n    KEY idx_sucursal (sucursal_id),\n    KEY idx_producto (producto_id),\n    KEY idx_disponible (disponible),\n    \n    FOREIGN KEY (sucursal_id) REFERENCES sucursales(id),\n    FOREIGN KEY (producto_id) REFERENCES productos(id)\n);\n```\n\n### Ejemplo de datos:\n\n```\nâ”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ id â”‚sucursal  â”‚ producto    â”‚ precio_sucurâ”‚disponibâ”‚ orden  â”‚\nâ”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ 1  â”‚ 1(Centro)â”‚ 1(Jugo)     â”‚ 2.50        â”‚ true   â”‚ 1      â”‚\nâ”‚ 2  â”‚ 1(Centro)â”‚ 2(CafÃ©)     â”‚ 1.50        â”‚ true   â”‚ 2      â”‚\nâ”‚ 3  â”‚ 1(Centro)â”‚ 3(Croissant)â”‚ 1.80        â”‚ true   â”‚ 3      â”‚\nâ”‚ 4  â”‚ 2(Sur)   â”‚ 2(CafÃ©)     â”‚ 2.00 â†diff  â”‚ true   â”‚ 1      â”‚\nâ”‚ 5  â”‚ 2(Sur)   â”‚ 1(Jugo)     â”‚ 3.00 â†diff  â”‚ true   â”‚ 2      â”‚\nâ”‚ 6  â”‚ 2(Sur)   â”‚ 4(Ensalada) â”‚ 5.00 â†new   â”‚ true   â”‚ 3      â”‚\nâ”‚ 7  â”‚ 2(Sur)   â”‚ 5(Bebida)   â”‚ 8.00 â†new   â”‚ true   â”‚ 4      â”‚\nâ”‚ 8  â”‚ 3(Oeste) â”‚ 2(CafÃ©)     â”‚ 1.75 â†diff  â”‚ true   â”‚ 1      â”‚\nâ”‚ 9  â”‚ 3(Oeste) â”‚ 3(Croissant)â”‚ 2.00 â†diff  â”‚ true   â”‚ 2      â”‚\nâ”‚ 10 â”‚ 3(Oeste) â”‚ 5(Bebida)   â”‚ 7.50 â†diff  â”‚ true   â”‚ 3      â”‚\nâ”‚ 11 â”‚ 3(Oeste) â”‚ 1(Jugo)     â”‚ 2.75        â”‚ false  â”‚ NULL   â”‚\nâ””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\nOBSERVACIONES:\n- Jugo (producto 1) estÃ¡ en Sucursal 1 y 2 con precios diferentes\n- Sucursal 3 no tiene Jugo en \"disponible = false\"\n- Cada sucursal tiene su propio orden visual\n- Cada sucursal tiene sus propios productos\n```\n\n---\n\n## Flujo de Datos: Request â†’ Response\n\n### 1. Request\n```\nGET /api/sucursales/productos\nAuthorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\nContent-Type: application/json\n```\n\n### 2. Backend Processing\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ 1. SucursalContextFilter                            â”‚\nâ”‚    â””â”€ JWT â†’ username â†’ usuarioId â†’ sucursal_id = 1 â”‚\nâ”‚                                                      â”‚\nâ”‚ 2. SucursalController                               â”‚\nâ”‚    â””â”€ Call service                                  â”‚\nâ”‚                                                      â”‚\nâ”‚ 3. SucursalProductoService                          â”‚\nâ”‚    â””â”€ Long sucursalId = SucursalContext.get()      â”‚\nâ”‚    â””â”€ repository.findByIdAndAvailable(1)            â”‚\nâ”‚                                                      â”‚\nâ”‚ 4. SQL Query                                        â”‚\nâ”‚    SELECT sp FROM sucursal_productos sp             â”‚\nâ”‚    WHERE sp.sucursal.id = 1                         â”‚\nâ”‚    AND sp.disponible = true                         â”‚\nâ”‚    ORDER BY sp.orden_visualizacion                  â”‚\nâ”‚                                                      â”‚\nâ”‚ 5. Mapeo a DTO                                      â”‚\nâ”‚    ProductoSucursalDTO[]                            â”‚\nâ”‚                                                      â”‚\nâ”‚ 6. Serializar a JSON                                â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n### 3. Response\n```json\n[\n  {\n    \"id\": 1,\n    \"nombre\": \"Jugo de Naranja\",\n    \"descripcion\": \"Jugo fresco de naranja reciÃ©n exprimida\",\n    \"categoriaProducto\": \"Bebidas\",\n    \"precioBase\": 2.50,\n    \"precioSucursal\": 2.50,\n    \"sku\": \"SKU-001\",\n    \"ordenVisualizacion\": 1,\n    \"disponible\": true,\n    \"esProductoBase\": true,\n    \"horarioDisponibilidad\": null,\n    \"diasDisponibilidad\": null,\n    \"notas\": null\n  },\n  {\n    \"id\": 2,\n    \"nombre\": \"CafÃ©\",\n    \"descripcion\": \"CafÃ© expreso\",\n    \"categoriaProducto\": \"Bebidas\",\n    \"precioBase\": 1.50,\n    \"precioSucursal\": 1.50,\n    \"sku\": \"SKU-002\",\n    \"ordenVisualizacion\": 2,\n    \"disponible\": true,\n    \"esProductoBase\": true,\n    \"horarioDisponibilidad\": null,\n    \"diasDisponibilidad\": null,\n    \"notas\": null\n  },\n  {\n    \"id\": 3,\n    \"nombre\": \"Croissant\",\n    \"descripcion\": \"Croissant reciÃ©n horneado\",\n    \"categoriaProducto\": \"ReposterÃ­a\",\n    \"precioBase\": 1.80,\n    \"precioSucursal\": 1.80,\n    \"sku\": \"SKU-003\",\n    \"ordenVisualizacion\": 3,\n    \"disponible\": true,\n    \"esProductoBase\": true,\n    \"horarioDisponibilidad\": null,\n    \"diasDisponibilidad\": null,\n    \"notas\": null\n  }\n]\n```\n\n---\n\n## Matriz de Componentes\n\n### Backend (Implementado âœ…)\n\n| Componente | Archivo | Estado | Notas |\n|-----------|---------|--------|-------|\n| Entity | `SucursalProducto.java` | âœ… | Con todos los campos |\n| Repository | `SucursalProductoRepository` | âœ… | 10+ queries optimizadas |\n| Service | `SucursalProductoService` | âœ… | LÃ³gica centralizada |\n| Controller | `SucursalController` | âœ… | 4+ endpoints |\n| Filter | `SucursalContextFilter` | âœ… | Intercepta HTTP |\n| Context | `SucursalContext` | âœ… | ThreadLocal |\n| DTOs | `ProductoSucursalDTO` | âœ… | Record Java |\n| DB | `sucursal_productos` | âœ… | Tabla con Ã­ndices |\n\n### Frontend (Por Implementar âŒ)\n\n| Componente | Archivo | Estado | Tareas |\n|-----------|---------|--------|--------|\n| API Hook | `useApi.ts` | âŒ | 1 |\n| Menu Context | `MenuContext.tsx` | âŒ | 1 |\n| Group Hook | `useMenuAgrupado.ts` | âŒ | 1 |\n| Availability Hook | `useProductoDisponible.ts` | âŒ | 1 |\n| Product Component | `ProductoItem.tsx` | âŒ | 1 |\n| Menu Screen | `MenuScreen.tsx` | âŒ | 1 |\n| Selector Component | `SelectorSucursal.tsx` | âŒ | 1 |\n| HeaderBar | `HeaderBar.tsx` | âŒ | 1 |\n| Tests | Varios | âŒ | 3 |\n| **Total** | - | - | **14 tareas** |\n\n---\n\n## Timeline: ImplementaciÃ³n\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ HOY: Entender (2-3 horas)                                  â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ âœ“ Leer documentaciÃ³n multi-sucursal                         â”‚\nâ”‚ âœ“ Entender arquitectura                                     â”‚\nâ”‚ âœ“ Revisar cÃ³digo backend                                   â”‚\nâ”‚ âœ“ Planificar implementaciÃ³n frontend                        â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n        â†“ 1-2 DÃAS DESPUÃ‰S\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ DÃA 1-2: Implementar Frontend (8-10 horas)                 â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ Fase 1 (2h):  AutenticaciÃ³n (5 tareas)                     â”‚\nâ”‚ Fase 2 (3h):  Procesamiento (4 tareas)                     â”‚\nâ”‚ Fase 3 (2h):  Admin (2 tareas)                             â”‚\nâ”‚ Fase 4 (1h):  Testing bÃ¡sico (3 tareas)                    â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ Milestone: Dos usuarios ven menÃºs diferentes âœ…             â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n        â†“ DESPUÃ‰S (Opcional)\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ DÃA 3: Refinamiento (2-3 horas)                            â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ â€¢ Estilos y UI/UX                                          â”‚\nâ”‚ â€¢ Manejo de errores robusto                                â”‚\nâ”‚ â€¢ Performance optimization                                 â”‚\nâ”‚ â€¢ Edge cases                                               â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ Milestone: ProducciÃ³n ready âœ…                              â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n---\n\n## Casos de Uso Cubiertos\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ CASO 1: Usuario Normal                                    â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ Juan login â†’ Sucursal Centro                              â”‚\nâ”‚ Ve: MenÃº de Centro                                        â”‚\nâ”‚ Precios: Centro                                           â”‚\nâ”‚ Orden: Centro                                             â”‚\nâ”‚ âœ… Funciona                                                â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ CASO 2: Mismo Usuario, Otra Sucursal                      â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ MarÃ­a login â†’ Sucursal Sur                                â”‚\nâ”‚ Ve: MenÃº DIFERENTE de Sur                                 â”‚\nâ”‚ Precios: DIFERENTES (CafÃ© $1.50 â†’ $2.00)                 â”‚\nâ”‚ Orden: DIFERENTE                                          â”‚\nâ”‚ Productos: DIFERENTES                                     â”‚\nâ”‚ âœ… Funciona                                                â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ CASO 3: Admin Cambia Contexto                             â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ Carlos (Admin) login â†’ Sucursal Centro (por defecto)      â”‚\nâ”‚ Ve: MenÃº de Centro                                        â”‚\nâ”‚ Click en \"Selector\"                                       â”‚\nâ”‚ Selecciona: Sucursal Sur                                  â”‚\nâ”‚ Ve: MenÃº de Sur (sin cambiar su sucursal por defecto)     â”‚\nâ”‚ Logout â†’ Login â†’ Vuelve a Centro                          â”‚\nâ”‚ âœ… Funciona                                                â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ CASO 4: Disponibilidad Horaria                            â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ Producto: Jugo                                            â”‚\nâ”‚ horarioDisponibilidad: {\"inicio\": \"06:00\", \"fin\": \"12:00\"} â”‚\nâ”‚ diasDisponibilidad: {\"dias\": [1,2,3,4,5]}                â”‚\nâ”‚ 06:30 Lunes â†’ âœ… Visible                                  â”‚\nâ”‚ 13:00 Lunes â†’ âŒ No visible                               â”‚\nâ”‚ 06:30 Domingo â†’ âŒ No visible                             â”‚\nâ”‚ âœ… Backend soporta (Frontend opcional)                     â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n---\n\n## Checklist de ValidaciÃ³n\n\n### âœ… Backend Completo\n- [x] Tabla sucursal_productos existe\n- [x] Entity con JPA annotations\n- [x] Repository con queries custom\n- [x] Service inyectable\n- [x] SucursalContext ThreadLocal\n- [x] Filter de seguridad\n- [x] Controller REST\n- [x] DTOs Record\n- [x] Tests (si existen)\n\n### âŒ Frontend Pendiente\n- [ ] Obtener token al login\n- [ ] Recuperar token al abrir\n- [ ] Hook useApi con auth\n- [ ] Context MenuContext\n- [ ] Hook useMenuAgrupado\n- [ ] Hook useProductoDisponible\n- [ ] Componente ProductoItem\n- [ ] Pantalla MenuScreen\n- [ ] Selector sucursal\n- [ ] IntegraciÃ³n HeaderBar\n- [ ] Console.log tests\n- [ ] Swagger tests\n- [ ] Prueba manual\n- [ ] Refinamiento UI/UX\n\n---\n\n## ConclusiÃ³n TÃ©cnica\n\n```\nPregunta: \"Â¿Columna nueva en productos?\"\n\nRespuesta:\n  NO âŒ\n  \n  RazÃ³n:\n    Tabla sucursal_productos es mejor\n    \n  Estado:\n    Backend:  100% âœ… (listo para producciÃ³n)\n    Frontend:   0% âŒ (14 tareas)\n    \n  Impacto:\n    âœ… MenÃºs totalmente diferentes por sucursal\n    âœ… Precios diferentes\n    âœ… Orden diferente\n    âœ… Disponibilidad diferente\n    âœ… Admin puede ver todas\n    âœ… 100% seguro\n    \n  Tiempo:\n    Entender: 2-3 horas\n    Implementar: 1-2 dÃ­as\n    Refinamiento: 2-3 horas (opcional)\n    \n  DocumentaciÃ³n:\n    7 documentos, ~150 pÃ¡ginas\n    Ejemplos de cÃ³digo incluidos\n    Flujos visuales explicados\n```\n\n---\n\n*Ãšltima actualizaciÃ³n: 6 de diciembre de 2025*\n